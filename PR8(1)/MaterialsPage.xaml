<Page x:Class="PR8_1_.MaterialsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Материалы">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Заголовок и фильтры -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" 
                     Margin="0,0,0,20">
            <TextBlock Text="📖 Учебные материалы" 
                       FontSize="24" FontWeight="Bold" 
                       Foreground="#2C3E50" VerticalAlignment="Center"/>

            <ComboBox Width="200" SelectedIndex="0" Margin="20,0,0,0">
                <ComboBoxItem Content="Все курсы"/>
                <ComboBoxItem Content="Математика"/>
                <ComboBoxItem Content="Программирование"/>
                <ComboBoxItem Content="Базы данных"/>
            </ComboBox>
        </StackPanel>

        <!-- Материалы -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Математика -->
                <Border  Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Математический анализ" 
                                   FontSize="18" FontWeight="SemiBold" 
                                   Foreground="#2C3E50" Margin="0,0,0,15"/>

                        <StackPanel>
                            <!-- Лекция 1 -->
                            <Border Background="#E8F4FD" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Лекция 1: Введение в анализ" 
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Text="PDF, 2.3 MB" 
                                                       Foreground="#666" FontSize="12"/>
                                            <TextBlock Text="Добавлено: 01.12.2023" 
                                                       Foreground="#999" FontSize="11"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <!-- Кнопка скачивания -->
                                            <Button x:Name="DownloadBtn1" Content="📥" 
                                                    Background="Transparent" 
                                                    BorderThickness="0" 
                                                    FontSize="16" 
                                                    Margin="5,0" 
                                                    ToolTip="Скачать"
                                                    Click="DownloadButton_Click"
                                                    Tag="1"/>
                                            <Button Content="👁" Background="Transparent" 
                                                    BorderThickness="0" FontSize="16" 
                                                    Margin="5,0" ToolTip="Просмотреть" Click="Button_Click"/>
                                        </StackPanel>
                                    </Grid>

                                    <!-- Прогресс бар (изначально скрыт) -->
                                    <Grid x:Name="ProgressGrid1" Visibility="Collapsed">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <ProgressBar x:Name="DownloadProgress1" 
                                                   Value="0" 
                                                   Maximum="100"
                                                   Height="8" 
                                                   Margin="0,10,0,5"
                                                   Background="#E9ECEF" 
                                                   Foreground="#3498DB"/>
                                        <TextBlock x:Name="ProgressText1" 
                                                 Text="0% завершено" 
                                                 FontSize="11" 
                                                 Foreground="#666" 
                                                 HorizontalAlignment="Center"
                                                 Grid.Row="1"/>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Лекция 2 -->
                            <Border Background="#E8F4FD" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Лекция 2: Пределы функций" 
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Text="PDF, 3.1 MB" 
                                                       Foreground="#666" FontSize="12"/>
                                            <TextBlock Text="Добавлено: 08.12.2023" 
                                                       Foreground="#999" FontSize="11"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <!-- Кнопка скачивания -->
                                            <Button x:Name="DownloadBtn2" Content="📥" 
                                                    Background="Transparent" 
                                                    BorderThickness="0" 
                                                    FontSize="16" 
                                                    Margin="5,0" 
                                                    ToolTip="Скачать"
                                                    Click="DownloadButton_Click"
                                                    Tag="2"/>
                                            <Button Content="👁" Background="Transparent" 
                                                    BorderThickness="0" FontSize="16" 
                                                    Margin="5,0" ToolTip="Просмотреть" Click="Button_Click_1"/>
                                        </StackPanel>
                                    </Grid>

                                    <!-- Прогресс бар (изначально скрыт) -->
                                    <Grid x:Name="ProgressGrid2" Visibility="Collapsed">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <ProgressBar x:Name="DownloadProgress2" 
                                                   Value="0" 
                                                   Maximum="100"
                                                   Height="8" 
                                                   Margin="0,10,0,5"
                                                   Background="#E9ECEF" 
                                                   Foreground="#3498DB"/>
                                        <TextBlock x:Name="ProgressText2" 
                                                 Text="0% завершено" 
                                                 FontSize="11" 
                                                 Foreground="#666" 
                                                 HorizontalAlignment="Center"
                                                 Grid.Row="1"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Программирование -->
                <Border  Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Программирование на C#" 
                                   FontSize="18" FontWeight="SemiBold" 
                                   Foreground="#2C3E50" Margin="0,0,0,15"/>

                        <StackPanel>
                            <!-- Практика 1 -->
                            <Border Background="#E8F6F3" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Практика: Основы C#" 
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Text="ZIP, 5.2 MB (исходный код)" 
                                                       Foreground="#666" FontSize="12"/>
                                            <TextBlock Text="Добавлено: 05.12.2023" 
                                                       Foreground="#999" FontSize="11"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <!-- Кнопка скачивания -->
                                            <Button x:Name="DownloadBtn3" Content="📥" 
                                                    Background="Transparent" 
                                                    BorderThickness="0" 
                                                    FontSize="16" 
                                                    Margin="5,0" 
                                                    ToolTip="Скачать"
                                                    Click="DownloadButton_Click"
                                                    Tag="3"/>
                                        </StackPanel>
                                    </Grid>

                                    <!-- Прогресс бар (изначально скрыт) -->
                                    <Grid x:Name="ProgressGrid3" Visibility="Collapsed">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <ProgressBar x:Name="DownloadProgress3" 
                                                   Value="0" 
                                                   Maximum="100"
                                                   Height="8" 
                                                   Margin="0,10,0,5"
                                                   Background="#E9ECEF" 
                                                   Foreground="#27AE60"/>
                                        <TextBlock x:Name="ProgressText3" 
                                                 Text="0% завершено" 
                                                 FontSize="11" 
                                                 Foreground="#666" 
                                                 HorizontalAlignment="Center"
                                                 Grid.Row="1"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Оффлайн материалы -->
                <Border  Background="#E8F6F3" 
                        BorderBrush="#27AE60">
                    <StackPanel>
                        <TextBlock Text="💾 Оффлайн материалы" 
                                   FontSize="16" FontWeight="SemiBold" 
                                   Margin="0,0,0,10"/>

                        <Button Content="Управление оффлайн материалами" 
                                Background="#27AE60" Foreground="White"
                                BorderThickness="0" Padding="10,5" 
                                 Margin="0,10,0,0" 
                                HorizontalAlignment="Left" Click="Button_Click_2"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>